# Change prefix
unbind C-b
set -g prefix C-a
bind-key C-a send-prefix

set -g history-limit 5000
set -g mouse on

# Fancy status bar
set -q -g status-utf8 on
setw -q -g utf8 on
set -g status-interval 10

# Display settings
setw -g automatic-rename on
set -g renumber-windows on
set -g set-titles on

# vi-style navigation
set -g mode-keys vi

bind-key 'h' select-pane -L
bind-key 'j' select-pane -D
bind-key 'k' select-pane -U
bind-key 'l' select-pane -R

bind-key -r 'H' resize-pane -L
bind-key -r 'J' resize-pane -D
bind-key -r 'K' resize-pane -U
bind-key -r 'L' resize-pane -R

unbind n
unbind p
bind -r 'C-h' previous-window
bind -r 'C-l' next-window
bind -r 'Tab' last-window

bind-key -r 'C-y' copy-mode 

# Other keybinds

bind-key "\\" split-pane -h
bind-key '-' split-pane -v

bind > swap-pane -D
bind < swap-pane -U

# copy to macOS clipboard
if -b 'command -v pbcopy > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | pbcopy"'
if -b 'command -v reattach-to-user-namespace > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | reattach-to-user-namespace pbcopy"'
# copy to X11 clipboard
if -b 'command -v xsel > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | xsel -i -b"'
if -b '! command -v xsel > /dev/null 2>&1 && command -v xclip > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | xclip -i -selection clipboard >/dev/null 2>&1"'
# copy to Windows clipboard
if -b 'command -v clip.exe > /dev/null 2>&1' 'bind y run -b "tmux save-buffer - | clip.exe"'
if -b '[ -c /dev/clipboard ]' 'bind y run -b "tmux save-buffer - > /dev/clipboard"'